{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\asus\\\\Desktop\\\\MOVIES-RATER-APP\\\\frontend\\\\src\\\\components\\\\Movie-form.js\";\nimport React, { Component } from \"react\";\n\nclass MovieEdit extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      editMovie: this.props.movie\n    };\n\n    this.cancelClicked = () => {\n      this.props.cancelForm();\n    };\n\n    this.inputChanged = event => {\n      let movie = this.state.editMovie;\n      movie[event.target.name] = event.target.value;\n      this.setState({\n        editMovie: movie\n      });\n    };\n\n    this.saveClicked = () => {\n      fetch(`${process.env.REACT_APP_API_URL}/api/movies/`, {\n        method: \"POST\",\n        headers: {\n          content_type: \"application/json\",\n          Authorization: \"cjsk\"\n        },\n        body: JSON.stringify(this.state.editMovie)\n      }).then(resp => resp.json()).then(resp => this.props.newMovie(resp)).catch(error => console.log(error));\n    };\n\n    this.updateClicked = () => {\n      fetch(`${process.env.REACT_APP_API_URL}/api/movies/${this.props.movie.id}/`, {\n        method: \"PUT\",\n        headers: {\n          content_type: \"application/json\",\n          Authorization: `Token ${this.props.token}`\n        },\n        body: JSON.stringify(this.state.editMovie)\n      }).then(resp => resp.json()).then(resp => this.props.editedMovie(resp)).catch(error => console.log(error));\n    };\n  }\n\n  render() {\n    const isValide = this.state.editedMovie.title.length === 0 || this.state.editedMovie.description.length === 0;\n    return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"span\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 9\n      }\n    }, \"Title\"), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      name: \"title\",\n      value: this.props.movie.title,\n      onChange: this.inputChanged,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(\"span\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 9\n      }\n    }, \"Description\"), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(\"textarea\", {\n      name: \"description\",\n      value: this.props.movie.description,\n      onChange: this.inputChanged,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 9\n      }\n    }), this.props.movie.id ? /*#__PURE__*/React.createElement(\"button\", {\n      onClick: this.updateClicked,\n      disabled: isValide,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 11\n      }\n    }, \"Update\") : /*#__PURE__*/React.createElement(\"button\", {\n      onClick: this.saveClicked,\n      disabled: isValide,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 11\n      }\n    }, \"Save\"), \"\\xA0\", /*#__PURE__*/React.createElement(\"button\", {\n      onClick: this.cancelClicked,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 9\n      }\n    }, \"Cancel\"));\n  }\n\n}\n\nexport default MovieEdit;","map":{"version":3,"sources":["C:/Users/asus/Desktop/MOVIES-RATER-APP/frontend/src/components/Movie-form.js"],"names":["React","Component","MovieEdit","state","editMovie","props","movie","cancelClicked","cancelForm","inputChanged","event","target","name","value","setState","saveClicked","fetch","process","env","REACT_APP_API_URL","method","headers","content_type","Authorization","body","JSON","stringify","then","resp","json","newMovie","catch","error","console","log","updateClicked","id","token","editedMovie","render","isValide","title","length","description"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\r\nclass MovieEdit extends Component {\r\n  state = {\r\n    editMovie: this.props.movie,\r\n  };\r\n  cancelClicked = () => {\r\n    this.props.cancelForm();\r\n  };\r\n  inputChanged = (event) => {\r\n    let movie = this.state.editMovie;\r\n    movie[event.target.name] = event.target.value;\r\n    this.setState({ editMovie: movie });\r\n  };\r\n  saveClicked = () => {\r\n    fetch(`${process.env.REACT_APP_API_URL}/api/movies/`, {\r\n      method: \"POST\",\r\n      headers: {\r\n        content_type: \"application/json\",\r\n        Authorization: \"cjsk\",\r\n      },\r\n      body: JSON.stringify(this.state.editMovie),\r\n    })\r\n      .then((resp) => resp.json())\r\n      .then((resp) => this.props.newMovie(resp))\r\n      .catch((error) => console.log(error));\r\n  };\r\n  updateClicked = () => {\r\n    fetch(\r\n      `${process.env.REACT_APP_API_URL}/api/movies/${this.props.movie.id}/`,\r\n      {\r\n        method: \"PUT\",\r\n        headers: {\r\n          content_type: \"application/json\",\r\n          Authorization: `Token ${this.props.token}`,\r\n        },\r\n        body: JSON.stringify(this.state.editMovie),\r\n      }\r\n    )\r\n      .then((resp) => resp.json())\r\n      .then((resp) => this.props.editedMovie(resp))\r\n      .catch((error) => console.log(error));\r\n  };\r\n  render() {\r\n    const isValide =\r\n      this.state.editedMovie.title.length === 0 ||\r\n      this.state.editedMovie.description.length === 0;\r\n    return (\r\n      <>\r\n        <span>Title</span>\r\n        <br />\r\n        <input\r\n          type=\"text\"\r\n          name=\"title\"\r\n          value={this.props.movie.title}\r\n          onChange={this.inputChanged}\r\n        />\r\n        <br />\r\n        <span>Description</span>\r\n        <br />\r\n        <textarea\r\n          name=\"description\"\r\n          value={this.props.movie.description}\r\n          onChange={this.inputChanged}\r\n        />\r\n        <br />\r\n        {this.props.movie.id ? (\r\n          <button onClick={this.updateClicked} disabled={isValide}>\r\n            Update\r\n          </button>\r\n        ) : (\r\n          <button onClick={this.saveClicked} disabled={isValide}>\r\n            Save\r\n          </button>\r\n        )}\r\n        &nbsp;\r\n        <button onClick={this.cancelClicked}>Cancel</button>\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nexport default MovieEdit;\r\n"]},"metadata":{},"sourceType":"module"}