{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\asus\\\\Desktop\\\\movie-rater-web\\\\src\\\\App.js\";\nimport React, { Component } from \"react\";\nimport \"./App.css\";\nimport MovieList from \"./components/MovieList\";\nimport MovieDetails from \"./components/Movie-details\";\nimport MovieEdit from \"./components/Movie-form\";\nimport { withCookies } from \"react-cookie\";\n\nvar Fontawsome = require(\"react-fontawesome\");\n\nclass App extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      movies: [],\n      selectedMovie: null,\n      editedmovie: null,\n      token: this.props.cookies.get(\"mr_token\")\n    };\n\n    this.loadmovie = movie => {\n      this.setState({\n        selectedMovie: movie,\n        editedmovie: null\n      });\n    };\n\n    this.movieDelete = selmovie => {\n      const movies = this.state.movies.filter(movie => movie.id != selmovie.id);\n      this.setState({\n        movies: movies,\n        selectedMovie: null\n      });\n    };\n\n    this.editClicked = movie => {\n      this.setState({\n        editedmovie: movie\n      });\n    };\n\n    this.newMovie = () => {\n      this.setState({\n        editedmovie: {\n          title: \"\",\n          description: \"\"\n        }\n      });\n    };\n\n    this.cancelForm = () => {\n      this.setState({\n        editedmovie: null\n      });\n    };\n\n    this.addMoviw = movie => {\n      this.setState({\n        movies: [...this.state.movies, movie]\n      });\n    };\n  }\n\n  componentDidMount() {\n    if (this.state.token) {\n      fetch(`${process.env.REACT_APP_API_URL}/api/movies/`, {\n        method: \"GET\",\n        headers: {\n          Authorization: `Token ${this.state.token}`\n        }\n      }).then(resp => resp.json()).then(resp => this.setState({\n        movies: resp\n      })).catch(error => console.log(error));\n    } else {\n      window.location.href = \"/\";\n    }\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"App\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"header\", {\n      className: \"App-header\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"h1\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Fontawsome, {\n      name: \"film\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 15\n      }\n    })), \"Movie Rater\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"layout\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(MovieList, {\n      movies: this.state.movies,\n      movieClicked: this.loadmovie,\n      movieDelete: this.movieDelete,\n      editClicked: this.editClicked,\n      newMovie: this.newMovie,\n      token: this.state.token,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 13\n      }\n    }, !this.state.editedmovie ? /*#__PURE__*/React.createElement(MovieDetails, {\n      movie: this.state.selectedMovie,\n      updateMovie: this.loadmovie,\n      token: this.state.token,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 17\n      }\n    }) : /*#__PURE__*/React.createElement(MovieEdit, {\n      movie: this.state.editedmovie,\n      cancelForm: this.cancelForm,\n      newMovie: this.addMovie,\n      editedMovie: this.loadmovie,\n      token: this.state.token,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 17\n      }\n    })))));\n  }\n\n}\n\nexport default withCookies(App);","map":{"version":3,"sources":["C:/Users/asus/Desktop/movie-rater-web/src/App.js"],"names":["React","Component","MovieList","MovieDetails","MovieEdit","withCookies","Fontawsome","require","App","state","movies","selectedMovie","editedmovie","token","props","cookies","get","loadmovie","movie","setState","movieDelete","selmovie","filter","id","editClicked","newMovie","title","description","cancelForm","addMoviw","componentDidMount","fetch","process","env","REACT_APP_API_URL","method","headers","Authorization","then","resp","json","catch","error","console","log","window","location","href","render","addMovie"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport \"./App.css\";\nimport MovieList from \"./components/MovieList\";\nimport MovieDetails from \"./components/Movie-details\";\nimport MovieEdit from \"./components/Movie-form\";\nimport { withCookies } from \"react-cookie\";\n\nvar Fontawsome = require(\"react-fontawesome\");\n\nclass App extends Component {\n  state = {\n    movies: [],\n    selectedMovie: null,\n    editedmovie: null,\n    token: this.props.cookies.get(\"mr_token\"),\n  };\n  componentDidMount() {\n    if (this.state.token) {\n      fetch(`${process.env.REACT_APP_API_URL}/api/movies/`, {\n        method: \"GET\",\n        headers: {\n          Authorization: `Token ${this.state.token}`,\n        },\n      })\n        .then((resp) => resp.json())\n        .then((resp) => this.setState({ movies: resp }))\n        .catch((error) => console.log(error));\n    } else {\n      window.location.href = \"/\";\n    }\n  }\n  loadmovie = (movie) => {\n    this.setState({ selectedMovie: movie, editedmovie: null });\n  };\n  movieDelete = (selmovie) => {\n    const movies = this.state.movies.filter((movie) => movie.id != selmovie.id);\n    this.setState({ movies: movies, selectedMovie: null });\n  };\n  editClicked = (movie) => {\n    this.setState({ editedmovie: movie });\n  };\n  newMovie = () => {\n    this.setState({ editedmovie: { title: \"\", description: \"\" } });\n  };\n  cancelForm = () => {\n    this.setState({ editedmovie: null });\n  };\n  addMoviw = (movie) => {\n    this.setState({ movies: [...this.state.movies, movie] });\n  };\n\n  render() {\n    return (\n      <div className=\"App\">\n        <header className=\"App-header\">\n          <h1>\n            <span>\n              <Fontawsome name=\"film\" />\n            </span>\n            Movie Rater\n          </h1>\n          <div className=\"layout\">\n            <MovieList\n              movies={this.state.movies}\n              movieClicked={this.loadmovie}\n              movieDelete={this.movieDelete}\n              editClicked={this.editClicked}\n              newMovie={this.newMovie}\n              token={this.state.token}\n            />\n            <div>\n              {!this.state.editedmovie ? (\n                <MovieDetails\n                  movie={this.state.selectedMovie}\n                  updateMovie={this.loadmovie}\n                  token={this.state.token}\n                />\n              ) : (\n                <MovieEdit\n                  movie={this.state.editedmovie}\n                  cancelForm={this.cancelForm}\n                  newMovie={this.addMovie}\n                  editedMovie={this.loadmovie}\n                  token={this.state.token}\n                />\n              )}\n            </div>\n          </div>\n        </header>\n      </div>\n    );\n  }\n}\n\nexport default withCookies(App);\n"]},"metadata":{},"sourceType":"module"}